(this.webpackJsonpassignment3=this.webpackJsonpassignment3||[]).push([[0],{390:function(e,t,a){},391:function(e,t,a){"use strict";a.r(t);var s=a(4),n=a(84),c=a.n(n),r=a(85),i=a.n(r),l=a(2);function o(){return Object(l.jsx)("div",{className:"z-index-zero",children:Object(l.jsx)(i.a,{id:"tsparticles",options:{particles:{number:{value:160,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!1,straight:!0,out_mode:"out",bounce:!0,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"bubble"},resize:!1},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:75,duration:.2},push:{particles_nb:4},remove:{particles_nb:2}}},detectRetina:!0}})})}var d=a(5),b=a.n(d),m=a(27),j=a(32),u=a(17),p=a(28),h=a.n(p),x=a(22),O=a.n(x);function f(e){var t=Object(s.useState)(""),a=Object(u.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)([]),i=Object(u.a)(r,2),o=i[0],d=i[1],p=Object(s.useState)(!1),x=Object(u.a)(p,2),f=x[0],v=x[1],g=Object(s.useState)({email:"",password:""}),N=Object(u.a)(g,2),y=N[0],w=N[1];function k(e){var t=e.target,a=Object(j.a)({},y);a[t.name]=t.value,w(a)}function S(){return O.a.object({email:O.a.string().required().email({tlds:{allow:["com","net"]}}),password:O.a.string().min(5).max(10).required()}).validate(y,{abortEarly:!1})}function C(){return(C=Object(m.a)(b.a.mark((function t(a){var s,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(s=S()).error){t.next=6;break}d(s.error.details),t.next=12;break;case 6:return v(!0),t.next=9,h.a.post("https://route-egypt-api.herokuapp.com/signin",y);case 9:n=t.sent,"success"==(r=n.data).message?(v(!1),localStorage.setItem("token",r.token),e.history.push("/home")):(v(!1),c(r.message));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container my-5 py-5",children:Object(l.jsx)("div",{className:"col-md-7 m-auto text-center",children:Object(l.jsxs)("form",{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{onChange:k,placeholder:"Enter Email",type:"email",name:"email",className:"form-control"})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{onChange:k,placeholder:"Enter Your Password",type:"password",name:"password",className:"form-control"})}),n?"":o.map((function(e,t){return Object(l.jsx)("div",{className:"alert alert-danger my-4 py-1",children:e.message},t)})),n?Object(l.jsx)("div",{className:"alert alert-danger my-4 py-1",children:n}):"",f?Object(l.jsxs)("button",{type:"submit",className:"btn btn-info w-100",children:["waiting ",Object(l.jsx)("i",{className:"fas fa-spinner fa-spin"})]}):Object(l.jsx)("button",{type:"submit",className:"btn btn-info w-100",children:"SignIn"})]})})})})}function v(e){var t=Object(s.useState)(""),a=Object(u.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)([]),i=Object(u.a)(r,2),o=i[0],d=i[1],p=Object(s.useState)(!1),x=Object(u.a)(p,2),f=x[0],v=x[1],g=Object(s.useState)({first_name:"",last_name:"",age:0,email:"",password:""}),N=Object(u.a)(g,2),y=N[0],w=N[1];function k(e){var t=e.target,a=Object(j.a)({},y);a[t.name]=t.value,w(a)}function S(){return O.a.object({first_name:O.a.string().alphanum().min(3).max(10).required(),last_name:O.a.string().alphanum().min(3).max(10).required(),age:O.a.number().min(10).max(70).required(),email:O.a.string().required().email({tlds:{allow:["com","net"]}}),password:O.a.string().min(5).max(10).required()}).validate(y,{abortEarly:!1})}function C(){return(C=Object(m.a)(b.a.mark((function t(a){var s,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(s=S()).error){t.next=6;break}d(s.error.details),t.next=12;break;case 6:return v(!0),t.next=9,h.a.post("https://route-egypt-api.herokuapp.com/signup",y);case 9:n=t.sent,"success"==(r=n.data).message?(v(!1),e.history.push("/signin")):(v(!1),c(r.message));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container my-5 py-5",children:Object(l.jsx)("div",{className:"col-md-7 m-auto text-center",children:Object(l.jsxs)("form",{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(l.jsx)("div",{className:"form-group",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("div",{children:Object(l.jsx)("input",{onChange:k,placeholder:"Enter First Name",name:"first_name",type:"text",className:"form-control"})}),Object(l.jsx)("div",{})]}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("div",{children:Object(l.jsx)("input",{onChange:k,placeholder:"Enter Last Name",name:"last_name",type:"text",className:"form-control"})}),Object(l.jsx)("div",{})]})]})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{onChange:k,placeholder:"Enter Your Age",type:"number",name:"age",className:"form-control"})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{onChange:k,placeholder:"Enter Email",type:"email",name:"email",className:"form-control"})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{onChange:k,placeholder:"Enter Your Password",type:"password",name:"password",className:"form-control"})}),n?"":o.map((function(e,t){return Object(l.jsx)("div",{className:"alert alert-danger my-4 py-1",children:e.message},t)})),n?Object(l.jsx)("div",{className:"alert alert-danger my-4 py-1",children:n}):"",f?Object(l.jsxs)("button",{type:"submit",className:"btn btn-info w-100",children:["waiting ",Object(l.jsx)("i",{className:"fas fa-spinner fa-spin"})]}):Object(l.jsx)("button",{type:"submit",className:"btn btn-info w-100",children:"SignUp"})]})})})})}function g(){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"container p-5 vh-100",children:[Object(l.jsx)("h1",{className:"fs-1 text-white fw-bolder p-4",children:"Page Not Found"}),Object(l.jsx)("p",{className:"fs-4 text-white text-opacity-50 p-4",children:"We couldn't find what you were looking for."})]})})}var N=a(12),y=a(24),w=a(41);function k(){var e=localStorage.getItem("token");if(e)var t=Object(w.a)(e);var a=Object(N.g)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:Object(l.jsxs)("div",{className:"container py-1",children:[Object(l.jsxs)(y.b,{className:"navbar-brand fs-4 fw-bolder",to:"/home",children:[Object(l.jsx)("i",{class:"far fa-sticky-note"})," Notes"]}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(l.jsx)("ul",{className:"navbar-nav ms-auto pt-2 mb-2 mb-lg-0",children:"/home"==a.pathname?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{className:"nav-link h4 px-5",children:["Welcome ",e?Object(l.jsx)("span",{children:t.first_name}):""," "]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(y.b,{onClick:function(){localStorage.removeItem("token")},activeClassName:"text-info",className:"nav-link h5 px-2",to:"/signin",children:"LogOut"})})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(y.b,{activeClassName:"text-info",className:"nav-link h5 px-2",to:"/signin",children:"SignIn"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(y.b,{activeClassName:"text-info",className:"nav-link h5 px-2",to:"/signup",children:"SignUp"})})]})})})]})})})}function S(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),r=Object(u.a)(c,2),i=r[0],o=r[1],d="https://route-egypt-api.herokuapp.com/",p=localStorage.getItem("token");if(p)var x=Object(w.a)(p);function O(){return f.apply(this,arguments)}function f(){return(f=Object(m.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(d+"getUserNotes",{headers:{token:p,userID:x._id}});case 2:t=e.sent,"success"==(a=t.data).message?(o(!1),n(a.Notes)):(o(!1),n(""));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=Object(s.useState)({title:"",desc:"",token:p,userID:x._id}),g=Object(u.a)(v,2),N=g[0],y=g[1];function k(e){var t=Object(j.a)({},N);t[e.target.name]=e.target.value,y(t)}function S(){return(S=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o(!0),e.next=4,h.a.post(d+"addNote",N);case 4:a=e.sent,"success"==a.data.message&&(o(!1),O());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,h.a.delete(d+"deleteNote",{data:{NoteID:t,token:p}});case 3:a=e.sent,"deleted"==a.data.message&&(o(!1),O());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){O()}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"container my-5",children:Object(l.jsxs)("button",{className:"add d-block ms-auto p-2 btn","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[Object(l.jsx)("i",{className:"fas fa-plus-circle"})," Add New"]})}),i?Object(l.jsxs)("div",{className:"w-50 text-center text-white fs-1 fw-bolder m-auto mt-5",children:["waiting ",Object(l.jsx)("i",{className:"fas fa-spinner fa-spin"})]}):"",Object(l.jsx)("div",{className:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(l.jsx)("form",{onSubmit:function(e){return S.apply(this,arguments)},children:Object(l.jsx)("div",{className:"modal-dialog",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsx)("div",{className:"modal-header",children:Object(l.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),Object(l.jsxs)("div",{className:"modal-body",children:[Object(l.jsx)("input",{onChange:k,placeholder:"Type Title",name:"title",className:"form-control",type:"text"}),Object(l.jsx)("textarea",{onChange:k,className:"form-control my-2",placeholder:"Type your note",name:"desc",id:"",cols:"30",rows:"10"})]}),Object(l.jsxs)("div",{className:"modal-footer",children:[Object(l.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),i?Object(l.jsx)("button",{className:"btn btn-info",children:Object(l.jsx)("i",{className:"fas fa-spinner fa-spin"})}):Object(l.jsxs)("button",{"data-bs-dismiss":"modal",type:"submit",className:"btn btn-info",children:[Object(l.jsx)("i",{className:"fas fa-plus-circle"})," Add Note"]})]})]})})})}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:a?a.map((function(e,t){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"modal fade",id:"deleteNote",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(l.jsx)("div",{className:"modal-dialog",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsx)("div",{className:"modal-header",children:Object(l.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),Object(l.jsx)("div",{className:"modal-body",children:Object(l.jsx)("h2",{children:"Are you need delete this note?"})}),Object(l.jsxs)("div",{className:"modal-footer",children:[Object(l.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),i?Object(l.jsx)("button",{type:"button",className:"btn btn-danger",children:Object(l.jsx)("i",{className:"fas fa-spinner fa-spin"})}):Object(l.jsx)("button",{onClick:function(){!function(e){C.apply(this,arguments)}(e._id)},type:"button","data-bs-dismiss":"modal",className:"btn btn-danger",children:"Delete"})]})]})})},t),Object(l.jsx)("div",{className:"col-md-4 my-4",children:Object(l.jsxs)("div",{className:"note p-4",children:[Object(l.jsxs)("div",{className:"row justify-content-between",children:[Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsx)("h3",{children:e.title})}),Object(l.jsx)("div",{className:"col-md-4",children:Object(l.jsx)("a",{"data-bs-toggle":"modal","data-bs-target":"#deleteNote",className:"cursor-pointer ms-auto",children:Object(l.jsx)("i",{className:"fas fa-trash-alt float-right px-3 del"})})})]}),Object(l.jsx)("p",{children:e.desc})]})},t)]})})):Object(l.jsx)("h2",{className:"text-center text-white fs-1 fw-bolder mt-5",children:"There are no Notes yet"})})})]})}function C(e){var t=e.path,a=e.component;return localStorage.getItem("token")?Object(l.jsx)(N.b,{path:t,component:a}):Object(l.jsx)(N.a,{to:"/signin"})}function _(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(k,{}),Object(l.jsx)(o,{}),Object(l.jsxs)(N.d,{children:[Object(l.jsx)(N.a,{exact:!0,from:"/",to:"/home"}),Object(l.jsx)(C,{path:"/home",component:S}),Object(l.jsx)(N.b,{path:"/signin",component:f}),Object(l.jsx)(N.b,{path:"/signup",component:v}),Object(l.jsx)(N.b,{path:"*",component:g})]})]})}a(386),a(387),a(389),a(390);c.a.render(Object(l.jsx)(y.a,{children:Object(l.jsx)(_,{})}),document.getElementById("root"))}},[[391,1,2]]]);
//# sourceMappingURL=main.c8ad1f75.chunk.js.map